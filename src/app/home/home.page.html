<!-- <ion-toolbar class="custom-toolbar">
  <ion-buttons slot="start">
    <ion-back-button>TANGOO</ion-back-button>
  </ion-buttons>

  <div style="padding: 30px">
    <ion-title> Active Windows ({{theRunningAppsSorted.length}}) </ion-title>
  </div>
</ion-toolbar> -->
<ion-toolbar class="custom-toolbar">
  <ion-buttons slot="start" (click)="presentIPModal();">
    <ion-menu-button auto-hide="false">IP</ion-menu-button>
  </ion-buttons>

  <ion-title>Active Apps ({{theRunningAppsSorted.length}})</ion-title>
</ion-toolbar>
<ion-content [fullscreen]="true">
  <div id="container">
    <div
      *ngFor="let appSingular of appsSingular | keyvalue; let appIndex=index"
    >
      <!-- SLIDE HEADER -->
      <ion-row class="text-center">
        <ion-col size="2">
          <img
            width="40px"
            src="assets/images/{{appSingular.value[0].name}}-icon.png"
          />
        </ion-col>
        <ion-col size="10" style="text-align: left">
          <p style="color: white; font-size: 16px">
            {{appSingular.value[0].appName}}
          </p>
          <p style="color: grey">{{appSingular.value.length}} open window</p>
        </ion-col>
      </ion-row>

      <!-- SLIDES -->

      <ion-slides
        [options]="{ slidesPerView: 'auto', zoom: false, grabCursor: true }"
        class="horizontal-slides m-b-100 height-auto"
      >
        <ion-slide
          *ngFor="let appSingularInstance of appSingular.value | keyvalue; let appInstance=index"
          style="
            width: 80%;
            height: 280px;
            border: 0px;
            margin: 0;
            margin-top: -40px;
          "
        >
          <ion-col style="text-align: left">
            <div *ngIf="appSingularInstance.value.windows.length != 0">
              <div
                class="recent-item"
                [id]="appSingularInstance.value.id"
                (click)="presentModal({'appID': appSingularInstance.value.id, 'windowsID': appSingularInstance.value.windows[0].id, appCommand: ''});"
              >
                <img src="assets/images/{{appSingular.value[0].name}}.jpg" />
                <div
                  style="
                    position: absolute;
                    bottom: 9px;
                    background: rgba(0, 0, 0, 0.67);
                    padding: 10px;
                  "
                >
                  <p>Viewing now</p>
                  <p style="color: white">
                    {{appSingularInstance.value.title}}
                  </p>
                </div>
              </div>
            </div>
          </ion-col>
        </ion-slide>
        <ion-slide> </ion-slide>
      </ion-slides>
    </div>
    <div
      *ngFor="let appMultiple of appsMultiple | keyvalue; let appIndex=index"
    >
      <!-- SLIDE HEADER -->
      <ion-row class="text-center">
        <ion-col size="2">
          <img
            width="40px"
            src="assets/images/{{appMultiple.value[0].name}}-icon.png"
          />
        </ion-col>
        <ion-col size="10" style="text-align: left">
          <p style="color: white; font-size: 16px">
            {{appMultiple.value[0].appName}}
          </p>
          <p style="color: grey">{{appMultiple.value.windows}} open window</p>
        </ion-col>
      </ion-row>

      <!-- SLIDES -->

      <ion-slides
        [options]="{ slidesPerView: 'auto', zoom: false, grabCursor: true }"
        class="horizontal-slides m-b-100 height-auto"
      >
        <ion-slide
          *ngFor="let appMultipleInstance of appMultiple.value | keyvalue; let appInstance=index"
          style="
            width: 80%;
            height: 280px;
            border: 0px;
            margin: 0;
            margin-top: -40px;
          "
        >
          <ion-col style="text-align: left">
            {{appMultipleInstance.value.windows.length}}
            <div *ngIf="appMultipleInstance.value.windows.length != 0">
              <div
                class="recent-item"
                [id]="appMultipleInstance.value.id"
                (click)="presentModal({'appID': appMultipleInstance.value.id, 'windowsID': appMultipleInstance.value.windows[0].id, appCommand: ''});"
              >
                <img src="assets/images/{{appMultiple.value[0].name}}.jpg" />
                <div
                  style="
                    position: absolute;
                    bottom: 9px;
                    background: rgba(0, 0, 0, 0.67);
                    padding: 10px;
                  "
                >
                  <p>Viewing now</p>
                  <p style="color: white">
                    {{appMultipleInstance.value.title}}
                  </p>
                </div>
              </div>
            </div>
          </ion-col>
        </ion-slide>
        <ion-slide> </ion-slide>
      </ion-slides>
    </div>
  </div>
</ion-content>
